<!DOCTYPE html>
<html lang="hu">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeatherRESTAPI Projekt - R√©szletes Elemz√©s</title>
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 210mm;
            margin: 0 auto;
            padding: 20px;
            background: white;
        }

        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin: 30px 0 20px 0;
            font-size: 24px;
        }

        h2 {
            color: #34495e;
            border-bottom: 2px solid #95a5a6;
            padding-bottom: 8px;
            margin: 25px 0 15px 0;
            font-size: 20px;
        }

        h3 {
            color: #555;
            margin: 20px 0 10px 0;
            font-size: 16px;
        }

        h4 {
            color: #666;
            margin: 15px 0 8px 0;
            font-size: 14px;
        }

        p {
            margin: 10px 0;
            text-align: justify;
        }

        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 0.9em;
            color: #c7254e;
        }

        pre {
            background-color: #f8f8f8;
            border: 1px solid #ddd;
            border-left: 4px solid #3498db;
            border-radius: 4px;
            padding: 15px;
            overflow-x: auto;
            margin: 15px 0;
            line-height: 1.4;
        }

        pre code {
            background: none;
            padding: 0;
            color: #333;
            font-size: 0.85em;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-size: 0.9em;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: bold;
        }

        td {
            border: 1px solid #ddd;
            padding: 10px;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        tr:hover {
            background-color: #f0f0f0;
        }

        ul,
        ol {
            margin: 10px 0 10px 30px;
        }

        li {
            margin: 5px 0;
        }

        blockquote {
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin: 20px 0;
            color: #555;
            font-style: italic;
            background-color: #f9f9f9;
            padding: 10px 15px;
        }

        hr {
            border: none;
            border-top: 2px solid #ddd;
            margin: 30px 0;
        }

        .header {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            margin: -20px -20px 30px -20px;
            border-radius: 0;
        }

        .header h1 {
            color: white;
            border: none;
            margin: 0;
            font-size: 28px;
        }

        .header p {
            margin-top: 10px;
            opacity: 0.9;
        }

        @media print {
            body {
                margin: 0;
                padding: 15px;
            }

            .header {
                margin: -15px -15px 20px -15px;
            }

            h1,
            h2,
            h3,
            h4 {
                page-break-after: avoid;
            }

            table,
            pre,
            blockquote {
                page-break-inside: avoid;
            }
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>üå§Ô∏è WeatherRESTAPI Projekt</h1>
        <p>R√©szletes Elemz√©s √©s K√∂vetelm√©nyeknek Val√≥ Megfelel√©s</p>
    </div>

    <h1>WeatherRESTAPI Projekt - R√©szletes Elemz√©s</h1>
    <h2>üìã Mi a projekt √©s mit csin√°l?</h2>
    <p>Ez egy <strong>mikroszerviz-architekt√∫r√°j√∫ id≈ëj√°r√°s REST API alkalmaz√°s</strong>, amely a k√∂vetkez≈ë funkci√≥kat
        val√≥s√≠tja meg:</p>
    <h3>F≈ëbb Funkci√≥k</h3>
    <ol>
        <li><strong>Id≈ëj√°r√°s adatok lek√©r√©se</strong>: K√ºls≈ë API-b√≥l (Open-Meteo) le tudja k√©rni magyar v√°rosok aktu√°lis
            id≈ëj√°r√°s√°t</li>
        <li><strong>Adatok t√°rol√°sa</strong>: SQLite adatb√°zisban tart√≥san elt√°rolja az id≈ëj√°r√°s adatokat</li>
        <li><strong>REST API szolg√°ltat√°s</strong>: FastAPI-val k√©sz√ºlt backend, amely k√ºl√∂nb√∂z≈ë v√©gpontokat ny√∫jt</li>
        <li><strong>Webes fel√ºlet</strong>: Streamlit alap√∫ modern frontend id≈ëj√°r√°s dashboard-dal</li>
        <li><strong>Automatiz√°ci√≥</strong>: Id≈ëz√≠tett adatment√©s √©s e-mail √©rtes√≠t√©s √ºtemezve</li>
        <li><strong>Vizualiz√°ci√≥</strong>: Grafikonok √©s statisztik√°k az id≈ëj√°r√°s alakul√°s√°r√≥l</li>
    </ol>
    <hr />
    <h2>üèóÔ∏è Projekt Architekt√∫ra</h2>
    <h3>1. Backend (FastAPI)</h3>
    <p><strong>F√°jl</strong>: <code>backend/app.py</code> √©s alk√∂nyvt√°rak</p>
    <h4>Modul√°ris Szerkezet:</h4>
    <div class="codehilite">
        <pre><span></span><code>backend/
‚îú‚îÄ‚îÄ api/          # REST API v√©gpontok
‚îú‚îÄ‚îÄ core/         # Alapvet≈ë be√°ll√≠t√°sok (config, database, logging)
‚îú‚îÄ‚îÄ models/       # SQLAlchemy ORM modellek
‚îú‚îÄ‚îÄ schemas/      # Pydantic s√©m√°k
‚îú‚îÄ‚îÄ services/     # √úzleti logika (weather, scheduler, email)
‚îî‚îÄ‚îÄ tests/        # Pytest egys√©gtesztek
</code></pre>
    </div>

    <h4>REST API V√©gpontok:</h4>
    <ul>
        <li><code>GET /health</code> - St√°tusz ellen≈ërz√©s</li>
        <li><code>POST /weather/fetch?lat=X&amp;lon=Y</code> - Id≈ëj√°r√°s lek√©r√©se √©s ment√©se koordin√°t√°khoz</li>
        <li><code>GET /weather</code> - √ñsszes mentett id≈ëj√°r√°s adat list√°z√°sa</li>
        <li><code>GET /weather/stats</code> - Statisztik√°k (√°tlag, min, max h≈ëm√©rs√©klet stb.)</li>
        <li><code>GET /weather/{id}</code> - Egyedi rekord lek√©r√©se</li>
        <li><code>DELETE /weather/reset</code> - Adatb√°zis t√∂rl√©se</li>
    </ul>
    <h3>2. Frontend (Streamlit)</h3>
    <p><strong>F√°jl</strong>: <code>frontend/app.py</code></p>
    <h4>Funkci√≥k:</h4>
    <ul>
        <li>üå§Ô∏è <strong>Dashboard</strong>: Modern, tiszta UI dark/light mode-dal</li>
        <li>üìä <strong>Vizualiz√°ci√≥k</strong>: </li>
        <li>Interakt√≠v h≈ëm√©rs√©klet-id≈ëvonal grafikon (Altair)</li>
        <li>H≈ëm√©rs√©klet/sz√©l √∂sszehasonl√≠t√≥ chart</li>
        <li>Statisztika k√°rty√°k (√°tlag, min, max √©rt√©kek)</li>
        <li>üèôÔ∏è <strong>V√°rosok kezel√©se</strong>: 5 magyar v√°ros id≈ëj√°r√°s√°nak k√∂vet√©se</li>
        <li>üîÑ <strong>Val√≥s idej≈± friss√≠t√©s</strong>: Backend API h√≠v√°sokkal</li>
        <li>üóëÔ∏è <strong>Adatb√°zis kezel√©s</strong>: T√∂rl√©s funkci√≥</li>
    </ul>
    <h3>3. Adatb√°zis (SQLite + SQLAlchemy ORM)</h3>
    <p><strong>T√°bla</strong>: <code>weather</code></p>
    <p><strong>Mez≈ëk</strong>:<br />
        - <code>id</code> - Els≈ëdleges kulcs<br />
        - <code>temperature_c</code> - H≈ëm√©rs√©klet Celsius-ban<br />
        - <code>windspeed_kmh</code> - Sz√©lsebess√©g km/h-ban<br />
        - <code>latitude</code> - F√∂ldrajzi sz√©less√©g<br />
        - <code>longitude</code> - F√∂ldrajzi hossz√∫s√°g<br />
        - <code>fetched_at</code> - Lek√©r√©s id≈ëpontja</p>
    <h3>4. Automatiz√°ci√≥s H√°tt√©rfolyamat</h3>
    <p><strong>F√°jl</strong>: <code>backend/services/scheduler.py</code></p>
    <ul>
        <li><strong>APScheduler</strong> haszn√°lat√°val id≈ëz√≠tett feladatok</li>
        <li><strong>Funkci√≥</strong>: √ìr√°nk√©nt (vagy be√°ll√≠tott id≈ëk√∂z√∂nk√©nt):</li>
        <li>Lek√©ri 5 v√°ros id≈ëj√°r√°s√°t az Open-Meteo API-r√≥l</li>
        <li>Elmenti az adatb√°zisba</li>
        <li>E-mail riportot k√ºld az id≈ëj√°r√°sr√≥l</li>
    </ul>
    <p><strong>E-mail k√ºld√©s</strong>: <code>backend/services/email_service.py</code><br />
        - <strong>smtplib</strong> √©s <strong>email.mime</strong> modulokkal<br />
        - Gmail SMTP-n kereszt√ºl</p>
    <hr />
    <h2>‚úÖ Hogyan Felel Meg a K√∂vetelm√©nyeknek?</h2>
    <h3>1. Mikroszerviz Komponensek ‚úÖ</h3>
    <table>
        <thead>
            <tr>
                <th>K√∂vetelm√©ny</th>
                <th>Megval√≥s√≠t√°s</th>
                <th>F√°jl</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Backend FastAPI</strong></td>
                <td>‚úÖ REST API v√©gpontokkal</td>
                <td><code>backend/app.py</code>, <code>backend/api/routes.py</code></td>
            </tr>
            <tr>
                <td><strong>Frontend Streamlit</strong></td>
                <td>‚úÖ Webes dashboard</td>
                <td><code>frontend/app.py</code></td>
            </tr>
            <tr>
                <td><strong>Adatb√°zis r√©teg</strong></td>
                <td>‚úÖ SQLite + SQLAlchemy ORM</td>
                <td><code>backend/core/database.py</code>, <code>backend/models/weather.py</code></td>
            </tr>
            <tr>
                <td><strong>Automatiz√°ci√≥</strong></td>
                <td>‚úÖ Id≈ëz√≠tett adatment√©s + e-mail</td>
                <td><code>backend/services/scheduler.py</code>, <code>backend/services/email_service.py</code></td>
            </tr>
        </tbody>
    </table>
    <h3>2. Technikai K√∂vetelm√©nyek ‚úÖ</h3>
    <h4>Virtu√°lis K√∂rnyezet</h4>
    <div class="codehilite">
        <pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>venv
</code></pre>
    </div>

    <p>A projekt <code>venv/</code> mapp√°ban tal√°lhat√≥, √©s onnan futtathat√≥.</p>
    <h4>√ñn√°ll√≥ Futtat√°s</h4>
    <div class="codehilite">
        <pre><span></span><code><span class="c1"># Backend ind√≠t√°sa</span>
uvicorn<span class="w"> </span>backend.app:app<span class="w"> </span>--reload

<span class="c1"># Frontend ind√≠t√°sa</span>
streamlit<span class="w"> </span>run<span class="w"> </span>frontend/app.py
</code></pre>
    </div>

    <p>Vagy a <code>start.sh</code> script seg√≠ts√©g√©vel.</p>
    <h4>Modul√°ris Szerkezet</h4>
    <ul>
        <li>‚úÖ <strong>T√∂bb .py f√°jl</strong>: 98+ Python f√°jl</li>
        <li>‚úÖ <strong>R√©tegekre bontva</strong>: </li>
        <li><code>models/</code> - Adatmodellek</li>
        <li><code>services/</code> - √úzleti logika</li>
        <li><code>api/</code> - REST v√©gpontok</li>
        <li><code>frontend/</code> - UI</li>
    </ul>
    <h3>3. Programoz√°si Paradigm√°k ‚úÖ</h3>
    <h4>Objektumorient√°lt (OOP)</h4>
    <div class="codehilite">
        <pre><span></span><code><span class="c1"># backend/models/weather.py</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Weather</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;weather&quot;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">temperature_c</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Float</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="c1"># ...</span>
</code></pre>
    </div>

    <h4>Funkcion√°lis</h4>
    <div class="codehilite">
        <pre><span></span><code><span class="c1"># backend/services/weather_service.py</span>
<span class="k">def</span><span class="w"> </span><span class="nf">fetch_current_weather</span><span class="p">(</span><span class="n">lat</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">lon</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">wind</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">lat</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">lon</span><span class="p">)</span>
</code></pre>
    </div>

    <h4>Procedur√°lis</h4>
    <div class="codehilite">
        <pre><span></span><code><span class="c1"># backend/services/scheduler.py - _job() funkci√≥</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span> <span class="ow">in</span> <span class="n">CITIES</span><span class="p">:</span>
    <span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">la</span><span class="p">,</span> <span class="n">lo</span> <span class="o">=</span> <span class="n">fetch_current_weather</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">)</span>
    <span class="n">save_weather_record</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">la</span><span class="p">,</span> <span class="n">lo</span><span class="p">)</span>
</code></pre>
    </div>

    <h3>4. FastAPI Backend R√©szletek ‚úÖ</h3>
    <ul>
        <li>‚úÖ <strong>REST v√©gpontok</strong>: Lista, r√©szletek, statisztik√°k</li>
        <li>‚úÖ <strong>Streamlit h√≠vja</strong>: Frontend ‚Üí <code>requests.get(f"{BACKEND}/weather")</code></li>
        <li>‚úÖ <strong>SQLAlchemy ORM</strong>: <code>backend/models/weather.py</code></li>
        <li>‚úÖ <strong>Pydantic modellek</strong>: <code>backend/schemas/weather.py</code> (<code>WeatherOut</code>)</li>
    </ul>
    <h3>5. API H√≠v√°s L√°nc ‚úÖ</h3>
    <p><strong>K√ºls≈ë API ‚Üí Backend ‚Üí Adatb√°zis ‚Üí Frontend</strong></p>
    <ol>
        <li>Backend h√≠vja az <strong>Open-Meteo API</strong>-t:</li>
    </ol>
    <div class="codehilite">
        <pre><span></span><code><span class="n">OPEN_METEO_URL</span> <span class="o">=</span> <span class="s2">&quot;https://api.open-meteo.com/v1/forecast?...&quot;</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre>
    </div>

    <ol>
        <li>Adatok ment√©se <strong>SQLite DB</strong>-be SQLAlchemy-val</li>
        <li>Frontend lek√©ri a <strong>FastAPI v√©gpontokr√≥l</strong></li>
        <li>Megjelen√≠t√©s Streamlit-ben grafikonokkal</li>
    </ol>
    <h3>6. Konfigur√°ci√≥kezel√©s ‚úÖ</h3>
    <p><strong>K√∂rnyezeti v√°ltoz√≥k</strong> (<code>python-dotenv</code>):</p>
    <p><code>.env.example</code> f√°jl:</p>
    <div class="codehilite">
        <pre><span></span><code>APP_ENV=dev
DATABASE_URL=sqlite:///./weather.db
DEFAULT_LAT=47.4979
DEFAULT_LON=19.0402
SCHEDULER_ENABLED=true
SCHEDULER_INTERVAL_MIN=10
EMAIL_USER=sender_email
EMAIL_PASS=your password
EMAIL_TO=emails
</code></pre>
    </div>

    <ul>
        <li>‚úÖ API kulcsok nincsenek a k√≥dban</li>
        <li>‚úÖ Adatb√°zis URL konfigur√°lhat√≥</li>
        <li>‚úÖ E-mail hiteles√≠t√©si adatok v√©dve</li>
    </ul>
    <h3>7. Automatiz√°lt Feladatv√©gz√©s ‚úÖ</h3>
    <p><strong>APScheduler</strong> id≈ëz√≠tett √ºtemez√©s:</p>
    <div class="codehilite">
        <pre><span></span><code><span class="c1"># backend/services/scheduler.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">apscheduler.schedulers.background</span><span class="w"> </span><span class="kn">import</span> <span class="n">BackgroundScheduler</span>

<span class="n">scheduler</span><span class="o">.</span><span class="n">add_job</span><span class="p">(</span>
    <span class="n">_job</span><span class="p">,</span>
    <span class="s2">&quot;interval&quot;</span><span class="p">,</span>
    <span class="n">minutes</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">scheduler_interval_min</span><span class="p">,</span>
    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;weather_job&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre>
    </div>

    <ul>
        <li>‚úÖ <strong>Id≈ëz√≠tett √ºtemez√©s</strong>: X percenk√©nt fut</li>
        <li>‚úÖ <strong>Automatikus adatfriss√≠t√©s</strong>: 5 v√°ros id≈ëj√°r√°sa</li>
        <li>‚úÖ <strong>E-mail k√ºld√©s</strong>: smtplib + email.mime</li>
        <li>‚úÖ <strong>Aszinkron h√°tt√©r</strong>: BackgroundScheduler</li>
    </ul>
    <h3>8. Hibakezel√©s √©s Logol√°s ‚úÖ</h3>
    <h4>Logol√°s (<code>logging</code> modul):</h4>
    <div class="codehilite">
        <pre><span></span><code><span class="c1"># backend/core/logging_conf.py</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Fetching weather from Open-Meteo...&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Scheduled job failed: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</code></pre>
    </div>

    <h4>Hibakezel√©s:</h4>
    <div class="codehilite">
        <pre><span></span><code><span class="c1"># backend/services/scheduler.py</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># ... adatok lek√©r√©se</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Scheduled job failed: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
    </div>

    <h3>9. Egys√©gtesztek (pytest) ‚úÖ</h3>
    <p><strong>F√°jl</strong>: <code>backend/tests/test_weather_service.py</code></p>
    <ul>
        <li>‚úÖ <strong>23+ sikeres teszt</strong></li>
        <li>‚úÖ <strong>@pytest.mark.parametrize</strong> haszn√°lat:</li>
    </ul>
    <div class="codehilite">
        <pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s2">&quot;lat,lon,expected_lat,expected_lon&quot;</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">(</span><span class="mf">47.4979</span><span class="p">,</span> <span class="mf">19.0402</span><span class="p">,</span> <span class="mf">47.4979</span><span class="p">,</span> <span class="mf">19.0402</span><span class="p">),</span>  <span class="c1"># Budapest</span>
    <span class="p">(</span><span class="mf">48.2082</span><span class="p">,</span> <span class="mf">16.3738</span><span class="p">,</span> <span class="mf">48.2082</span><span class="p">,</span> <span class="mf">16.3738</span><span class="p">),</span>  <span class="c1"># Vienna</span>
    <span class="c1"># ...</span>
<span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_fetch_current_weather_with_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">expected_lat</span><span class="p">,</span> <span class="n">expected_lon</span><span class="p">):</span>
    <span class="c1"># ...</span>
</code></pre>
    </div>

    <p><strong>Tesztelt ter√ºletek</strong>:<br />
        - Id≈ëj√°r√°s lek√©r√©s k√ºl√∂nb√∂z≈ë koordin√°t√°kkal<br />
        - API hiba kezel√©s (timeout, connection error, invalid JSON)<br />
        - Adatb√°zis ment√©s<br />
        - Integr√°ci√≥ (fetch + save workflow)</p>
    <h3>10. Vizualiz√°ci√≥ ‚úÖ</h3>
    <p><strong>Streamlit + Altair</strong> grafikonok:</p>
    <ol>
        <li><strong>H≈ëm√©rs√©klet-id≈ëvonal</strong>: Line chart</li>
        <li><strong>H≈ëm√©rs√©klet vs. Sz√©l</strong>: Multi-line chart</li>
        <li><strong>Statisztikai k√°rty√°k</strong>: HTML + CSS form√°zott metrik√°k</li>
    </ol>
    <div class="codehilite">
        <pre><span></span><code><span class="c1"># frontend/app.py</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">(</span><span class="n">point</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fetched_at:T&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Id≈ëpont&#39;</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;temperature_c:Q&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;H≈ëm√©rs√©klet (¬∞C)&#39;</span><span class="p">),</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;city:N&#39;</span><span class="p">,</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;temperature_c&#39;</span><span class="p">,</span> <span class="s1">&#39;fetched_at&#39;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">st</span><span class="o">.</span><span class="n">altair_chart</span><span class="p">(</span><span class="n">chart</span><span class="p">,</span> <span class="n">use_container_width</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre>
    </div>

    <h3>11. Logikus F√°jlszerkezet ‚úÖ</h3>
    <div class="codehilite">
        <pre><span></span><code>WeatherRESTAPI/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ api/          # API routes
‚îÇ   ‚îú‚îÄ‚îÄ core/         # Config, database, logging
‚îÇ   ‚îú‚îÄ‚îÄ models/       # ORM modellek
‚îÇ   ‚îú‚îÄ‚îÄ schemas/      # Pydantic s√©m√°k
‚îÇ   ‚îú‚îÄ‚îÄ services/     # √úzleti logika
‚îÇ   ‚îî‚îÄ‚îÄ tests/        # Egys√©gtesztek
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îî‚îÄ‚îÄ app.py        # Streamlit UI
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ seed.py       # Seg√©dscript
‚îú‚îÄ‚îÄ .env.example      # K√∂rnyezeti v√°ltoz√≥k p√©lda
‚îú‚îÄ‚îÄ requirements.txt  # F√ºgg≈ës√©gek
‚îú‚îÄ‚îÄ start.sh         # Ind√≠t√≥szkript
‚îî‚îÄ‚îÄ README.md        # Dokument√°ci√≥
</code></pre>
    </div>

    <h3>12. Ind√≠t√≥f√°jl/Script ‚úÖ</h3>
    <p><strong>F√°jl</strong>: <code>start.sh</code></p>
    <div class="codehilite">
        <pre><span></span><code><span class="ch">#!/bin/bash</span>
uvicorn<span class="w"> </span>backend.app:app<span class="w"> </span>--reload<span class="w"> </span><span class="p">&amp;</span>
streamlit<span class="w"> </span>run<span class="w"> </span>frontend/app.py
</code></pre>
    </div>

    <p>Alternat√≠va: K√ºl√∂n-k√ºl√∂n a parancsok.</p>
    <h3>13. Verzi√≥k√∂vet√©s (GitHub) ‚úÖ</h3>
    <ul>
        <li>‚úÖ A projekt <code>.git</code> mapp√°val rendelkezik</li>
        <li>‚úÖ GitHub repository-ban t√°rolva</li>
        <li>‚úÖ <code>.gitignore</code> f√°jl haszn√°lat√°val</li>
    </ul>
    <h3>14. Deploy√°lhat√≥s√°g ‚úÖ</h3>
    <h4>Streamlit Cloud</h4>
    <ul>
        <li>‚úÖ <code>requirements.txt</code> megvan</li>
        <li>‚úÖ Streamlit alkalmaz√°s deployolhat√≥</li>
    </ul>
    <h4>Render.com (Backend)</h4>
    <ul>
        <li>‚úÖ FastAPI backend k√ºl√∂n is futtathat√≥</li>
        <li>‚úÖ Uvicorn ind√≠t√°ssal production-ready</li>
    </ul>
    <hr />
    <h2>üéØ √ñsszefoglal√°s</h2>
    <p>A <strong>WeatherRESTAPI</strong> projekt <strong>teljes m√©rt√©kben megfelel</strong> az √∂sszes k√∂vetelm√©nynek:
    </p>
    <h3>Komponensek</h3>
    <ul>
        <li>‚úÖ FastAPI backend REST API-val</li>
        <li>‚úÖ Streamlit frontend</li>
        <li>‚úÖ SQLite adatb√°zis + SQLAlchemy ORM</li>
        <li>‚úÖ Id≈ëz√≠tett automatiz√°ci√≥ (scheduler + email)</li>
    </ul>
    <h3>Technikai Megval√≥s√≠t√°s</h3>
    <ul>
        <li>‚úÖ Virtu√°lis k√∂rnyezet (<code>venv</code>)</li>
        <li>‚úÖ Modul√°ris szerkezet (models, services, api, frontend)</li>
        <li>‚úÖ OOP, funkcion√°lis, procedur√°lis paradigm√°k</li>
        <li>‚úÖ Pydantic s√©m√°k, SQLAlchemy ORM</li>
        <li>‚úÖ K√ºls≈ë API h√≠v√°s (Open-Meteo)</li>
        <li>‚úÖ K√∂rnyezeti v√°ltoz√≥k (.env)</li>
        <li>‚úÖ Hibakezel√©s + logging</li>
        <li>‚úÖ 23+ pytest teszt (@pytest.mark.parametrize-zel)</li>
        <li>‚úÖ Vizualiz√°ci√≥k (Altair grafikonok)</li>
        <li>‚úÖ GitHub verzi√≥k√∂vet√©s</li>
        <li>‚úÖ Deployolhat√≥ (Streamlit Cloud + Render.com)</li>
    </ul>
    <h3>Programoz√°si St√≠lus</h3>
    <ul>
        <li><strong>Modern Python</strong>: Type hints, f-stringek</li>
        <li><strong>Clean Code</strong>: √ârthet≈ë v√°ltoz√≥nevek, j√≥l szervezett</li>
        <li><strong>Best Practices</strong>: Dependency injection, separation of concerns</li>
    </ul>
    <p>A projekt egy <strong>komplex, production-ready mikroszerviz alkalmaz√°s</strong>, amely demonstr√°lja a Python
        backend-frontend fejleszt√©s minden aspektus√°t! üöÄ</p>

    <hr>
    <p style="text-align: center; color: #888; font-size: 0.9em; margin-top: 30px;">
        <em>Dokumentum l√©trehozva: 2025-12-04</em>
    </p>
</body>

</html>